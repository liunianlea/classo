# classo

<!-- badges: start -->
<!-- badges: end -->

This is the package implements Classifier-Lasso developed in the following paper.

[Su, L., Shi, Z., & Phillips, P. C. (2016). Identifying latent structures in panel data. *Econometrica*, *84*(6), 2215-2264.](https://onlinelibrary.wiley.com/doi/abs/10.3982/ECTA12560)

An accompanying note focused on the computation details: [Two Examples of Convex-Programming-Based High-Dimensional Econometric Estimators](https://arxiv.org/abs/1806.10423) and illustration example code hosted on https://github.com/zhan-gao/convex_prog_in_econometrics .



The package is still under active development...

## Installation

This package is dependent on [Rmosek](https://cran.r-project.org/web/packages/Rmosek/index.html). An installation gist can be found at [here](https://gist.github.com/mikelove/67ea44d5be5a053e599257fe357483dc ). Please make sure `Rmosek` is successfully installed and activated before install this package.

In later versions, we will relax this restriction to allow users use an open source solver via [CVXR](https://github.com/anqif/CVXR) and make `Rmosek` as an option.

You can install the development version of classo from [Github](https://CRAN.R-project.org) with:

``` r
library(devtools)
devtools::install_github("zhan-gao/classo", INSTALL_opts=c("--no-multiarch"))
```

## Examples

The sample data is generated by DGP 1 described in Su, Shi and Phillips (2016) with N = 200 and T = 25.

```r
data("sample_data")
y <- as.matrix(sample_data[, 1])
x <- as.matrix(sample_data[, -1])
n <- 200
tt <- 25
lambda <- as.numeric( 0.5 * var(y) / (tt^(1/3)) )
pls_out <- PLS.mosek(n, tt, y, x, K = 3, lambda = lambda)

# estimated slope for each group. True coefficients: [1,1; 0.4,1.6; 1.6,0.4]
pls_out$a.out 
```

```
          [,1]      [,2]
[1,] 1.0387521 0.9986867
[2,] 0.4017041 1.6014119
[3,] 1.6197497 0.3614408
```

```R
# Estimated group structure
# True group structure:
#	group 2: 1 - 60
#   group 1: 61 - 120
# 	group 3: 121 - 200
pls_out$group.est
```

```
  [1] 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2
 [33] 2 2 2 2 1 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 1 1 1 1
 [65] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 3 1 1 1 1 1 1 1 1 1
 [97] 1 1 1 1 2 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 3 3 3 3 3 3 3 3
[129] 3 3 3 3 3 1 3 1 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3
[161] 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3
[193] 3 3 3 3 3 3 3 3
```

